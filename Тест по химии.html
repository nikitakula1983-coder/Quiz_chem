<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Тест по химии</title>
<style>
body { font-family: Arial; background:#f4f6f9; padding:20px; }
.container { max-width:1000px; margin:auto; background:white; padding:25px; border-radius:10px; box-shadow:0 0 10px rgba(0,0,0,0.1);}
.question { margin-bottom:20px; padding:10px; border-radius:5px; }
.correct { background:#d4edda; }
.incorrect { background:#f8d7da; }
input[type="text"]{ padding:5px; width:300px; }
button{ padding:10px 20px; font-size:16px; background:#2e86de; color:white; border:none; border-radius:5px; cursor:pointer; margin-top:10px;}
button:hover{ background:#1b4f72; }
.result{ margin-top:20px; font-size:18px; font-weight:bold;}
</style>
</head>
<body>

<div class="container">
<h1>Тест по теме «Химические реакции»</h1>
<form id="quizForm"></form>
<button onclick="checkAnswers()">Проверить тест</button>
<div class="result" id="result"></div>
<div id="retryContainer"></div>
</div>

<script>

const questionsData = [
{q:"Какая реакция относится к реакциям соединения?",
a:["CaCO₃ → CaO + CO₂","2H₂ + O₂ → 2H₂O","Zn + 2HCl → ZnCl₂ + H₂","AgNO₃ + NaCl → AgCl↓ + NaNO₃"],c:1},
{q:"Какая реакция является ОВР?",
a:["NaOH + HCl → NaCl + H₂O","2KClO₃ → 2KCl + 3O₂","BaCl₂ + H₂SO₄ → BaSO₄↓ + 2HCl","NaCl + AgNO₃ → AgCl↓ + NaNO₃"],c:1},
{q:"Признак химической реакции:",
a:["Изменение формы","Растворение","Выделение газа","Измельчение"],c:2},
{q:"Не влияет на скорость реакции:",
a:["Температура","Концентрация","Катализатор","Цвет вещества"],c:3},
{q:"Реакция кислоты с основанием:",
a:["Разложения","Замещения","Нейтрализации","Соединения"],c:2},
{q:"CaCO₃ → CaO + CO₂ — это:",
a:["Соединения","Разложения","Обмена","Замещения"],c:1},
{q:"Fe + CuSO₄ → FeSO₄ + Cu — это:",
a:["Соединения","Замещения","Обмена","Разложения"],c:1},
{q:"Обменная реакция происходит между:",
a:["Металлами","Двумя сложными веществами","Газами","Неметаллами"],c:1},
{q:"Катализатор:",
a:["Расходуется","Снижает энергию активации","Замедляет реакцию","Не влияет"],c:1},
{q:"Экзотермическая реакция:",
a:["Поглощает тепло","Выделяет тепло","Без изменения энергии","Поглощает свет"],c:1},
{q:"Эндотермическая реакция:",
a:["Выделяет тепло","Поглощает тепло","Не изменяется","Выделяет газ"],c:1},
{q:"Степень окисления кислорода обычно:",
a:["+2","-2","+1","0"],c:1},
{q:"Восстановитель — это:",
a:["Принимает электроны","Отдаёт электроны","Не изменяется","Растворяется"],c:1},
{q:"Окисление — это:",
a:["Присоединение электронов","Отдача электронов","Растворение","Испарение"],c:1},
{q:"При повышении температуры скорость реакции:",
a:["Уменьшается","Не меняется","Увеличивается","Исчезает"],c:2},
{q:"Газ обозначается знаком:",
a:["↑","↓","+","="],c:0},
{q:"Осадок обозначается знаком:",
a:["↑","↓","+","="],c:1},
{q:"Реакция горения — это:",
a:["ОВР","Обмен","Нейтрализация","Разложение"],c:0},
{q:"Степень окисления простого вещества:",
a:["+1","-1","0","+2"],c:2},
{q:"Энергия активации — это энергия:",
a:["Реакции","Связи","Необходимая для начала реакции","Выделяемая"],c:2}
];

const inputTasks = [
{q:"21. Расставьте коэффициенты: Al + O₂ → Al₂O₃",a:"4Al+3O2=2Al2O3"},
{q:"22. Степень окисления Mn в KMnO₄:",a:"+7"},
{q:"23. Тип реакции: 2H₂O → 2H₂ + O₂",a:"разложения"}
];

const form=document.getElementById("quizForm");

questionsData.forEach((item,i)=>{
let div=document.createElement("div");
div.className="question";
div.innerHTML="<b>"+(i+1)+". "+item.q+"</b><br>";
item.a.forEach((ans,j)=>{
div.innerHTML+=`<label><input type="radio" name="q${i}" value="${j}"> ${ans}</label><br>`;
});
form.appendChild(div);
});

inputTasks.forEach((item,i)=>{
let div=document.createElement("div");
div.className="question";
div.innerHTML=`<b>${item.q}</b><br><input type="text" id="text${i}">`;
form.appendChild(div);
});

function normalize(str){
return str.toLowerCase().replace(/\s/g,'');
}

function checkAnswers(){

let score=0;

// очистка кнопки повтора
document.getElementById("retryContainer").innerHTML="";

// тестовые
questionsData.forEach((item,i)=>{
let answers=document.getElementsByName("q"+i);
answers.forEach((ans,j)=>{
ans.parentElement.classList.remove("correct","incorrect");
if(j===item.c) ans.parentElement.classList.add("correct");
if(ans.checked && j!==item.c) ans.parentElement.classList.add("incorrect");
if(ans.checked && j===item.c) score++;
});
});

// текстовые
inputTasks.forEach((item,i)=>{
let input=document.getElementById("text"+i);
input.classList.remove("correct","incorrect");
if(normalize(input.value)===normalize(item.a)){
input.classList.add("correct");
score++;
}else{
input.classList.add("incorrect");
input.value+=" (Правильный ответ: "+item.a+")";
}
});

let total=questionsData.length+inputTasks.length;
let percent=Math.round(score/total*100);

document.getElementById("result").innerText=
`Ваш результат: ${score} из ${total} (${percent}%)`;

// если меньше 80% — показать кнопку
if(percent < 80){
let retryBtn=document.createElement("button");
retryBtn.innerText="Пройти тест заново";
retryBtn.onclick=function(){ location.reload(); };
document.getElementById("retryContainer").appendChild(retryBtn);
}

}

</script>

</body>
</html>